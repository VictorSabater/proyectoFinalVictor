<div class="container">
  <div class="row">
    <div class="col-md-10 offset-md-2 my-2">
      <h2>Añadir una noticia</h2>
    </div>
    <div class="col-md-4 offset-md-2">
      <ng-form [formGroup]="noticiaForm" (ngSubmit)="addNoticia()">
        <div class="form-floating mb-3">
          <input formControlName="title" type="text" class="form-control"
                 id="title" placeholder="title">
          <label for="title">Title</label>
          <div *ngIf="title.invalid && (title.dirty || title.touched)"
               class="alert alert-warning" role="alert">
            <div *ngIf="title.errors.required || title.errors.notOnlyWhitespace">
              Title es obligatorio
            </div>
            <div *ngIf="title.errors.minlength">
              Mínimo 2 caracteres
            </div>
          </div>
        </div>
        <div class="form-floating mb-3">
          <input formControlName="subtitle" type="text" class="form-control"
                 id="subtitle" placeholder="subtitle">
          <label for="subtitle">Subtitle</label>
          <div *ngIf="subtitle.invalid &&
(subtitle.dirty || subtitle.touched)"
               class="alert alert-warning" role="alert">
            <div *ngIf="subtitle.errors.required || subtitle.errors.notOnlyWhiteSpace">
              Subtitle es obligatorio
            </div>
            <div *ngIf="subtitle.errors.minlength">
              Mínimo 2 caracteres
            </div>
          </div>
        </div>
        <div class="form-floating mb-3">
          <input formControlName="content" type="text"
                 class="form-control" id="content"
                 placeholder="content">
          <label for="content">Content</label>
          <div *ngIf="content.invalid &&
(content.dirty || content.touched)"
               class="alert alert-warning" role="alert">
            <div *ngIf="content.errors.required || content.errors.notOnlyWhiteSpace">
              Content es obligatorio
            </div>
            <div *ngIf="content.errors.minlength">
              Mínimo 2 caracteres
            </div>
          </div>
        </div>
        <div class="form-floating mb-3">
          <input formControlName="author" type="text"
                 class="form-control" id="author"
                 placeholder="author">
          <label for="author">Author</label>
          <div *ngIf="author.invalid &&
(author.dirty || author.touched)"
               class="alert alert-warning" role="alert">
            <div *ngIf="author.errors.required || author.errors.notOnlyWhiteSpace">
              Author es obligatorio
            </div>
            <div *ngIf="author.errors.minlength">
              Mínimo 2 caracteres
            </div>
          </div>
        </div>
        <div class="form-floating mb-3">
          <input formControlName="images" type="text" class="form-control"
                 id="images" placeholder="images">
          <label for="images">Images</label>
          <div *ngIf="images.invalid &&
(images.dirty || images.touched)"
               class="alert alert-warning" role="alert">
            <div *ngIf="images.errors.required || images.errors.notOnlyWhiteSpace">
              Images es obligatorio
            </div>
            <div *ngIf="images.errors.minlength">
              Mínimo 2 caracteres
            </div>
          </div>
        </div>
        <div class="d-flex justify-content-center">
          <button type="submit" class="btn btn-success"
                  [disabled]="noticiaForm.invalid"
                  (click)="edit?editNoticia(): addNoticia()">Añadir Noticia</button>
        </div>
      </ng-form>
    </div>
    <div class="col-md-3">
      <div class="card">
        <div class="card-header">
          <div class="card-title">
            <h2>{{title.value === ''?'Título':title.value}}</h2>
          </div>
          <div class="card-subtitle">
            {{subtitle.value === ''?'Subtítulo':subtitle.value}}</div>
        </div>

        <img [src]="images.value
===''?'/assets/images/no-image-icon.jpg':images.value" class="card-img-top"
             [alt]="title.value"/>
        <div class="card-body">
          <p
            class="card-text">{{content.value===''?'Content':content.value}}</p>
        </div>
        <div class="card-footer">
          <div class=" d-flex justify-content-between">
            <p class="text-muted ">
              {{ dateNoticia.value === ''?(date | date: 'mediumDate'):
              dateNoticia.value | date: 'mediumDate'}}</p>
          </div>
          <div class=" d-flex justify-content-between">
            <p class="text-muted ">
              {{author.value === ''?'Author':author.value}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <ngb-toast class="toast-container position-fixed
bg-success text-light top-0 end-50 p-1"
             style="z-index: 1200" *ngIf="toastShow">
    {{toast.body}}
  </ngb-toast>
</div>
